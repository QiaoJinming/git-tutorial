### git基本操作

---

> 成文时间：2020-09-22
>
> 参考地址：[GIT--fast-version-contro](https://git-scm.com/book/zh/v2)
>
> 阅读软件：Typora(Catfish主题)
>
> 联系作者：qiao_jinming@foxmail.com
>
> 文章作者：乔金明

---



##### 1. 查看当前仓库状态

- 使用命令即可查看当前的仓库状态

  ```shell
  # status状态命令也有相依的显示形式，默认是长格式输出
  git status [--long]
  
  # 如果只需要看概要，那么可以以短格式输出
  git status [-s | --short]
  
  # 如果想看到文件修改的更多细节，可以添加以下命令，更多细节的查看可以通过diff，这里只是尽可能的多看一些仓库的修改细节
  git status [-v | --verbose]
  ```

- status使用短格式时输出的相关字段的意义

  ```shell
  # git使用-s后输出的格式如下，即修改的文件，或者由哪个文件修改来的，XY可以理解为状态码，其意义包括
  XY path
  XY orig_path -> path
  
  # 使用以下命令进行指定文件的忽略跟踪，ignored后可以加文件或者文件夹名，也可以加模式（正则），来统一忽略跟踪某个匹配模式的数据
  git status --ignored[=<mode>]
  ```

  1. ?? ：表示还没有被跟踪，即此文件还没有被git操作过
  2. ''：表示没有被修改
  3. M：表示此路径数据已经被修改
  4. A：表示此路径数据已经被添加到缓存区
  5. D：表示此路径数据已经被删除
  6. R：表示此路径数据已由源路径数据重命名
  7. C：表示此路径数据已由源路径数据复制
  8. U：表示此路径数据已经更新，但是还没有合并
  9. !!：表示已经忽略跟踪数据，一般是在使用了--ignored后

- 关于状态码XY的详细解释

  - X表示索引中的状态，即当前在缓存区中的状态
  - Y表示当前工作树的状态，即当前对此文件的修改状态

- 干净的工作区示例，由图可见当前已经没有跟踪的文件，所有的文件均已经被提交，当前的分支名称为master，仓库名称为origin，这些都是默认的名称，PS：github网站默认分支名将会修改为main，目的是为了避嫌人种歧视

  <img src=".\pics\git_status干净工作区.jpg" style="zoom: 80%;" />



##### 2. 将文件添加到暂存区

- 通过git控制的工作区文件分为两种状态，分别为已跟踪和未跟踪，已跟踪表示的是已经纳入版本控制的文件，即已经生成了快照的文件，新克隆的文件目录属于已跟踪状态，因为克隆时是将快照同时克隆下来的，已经存在版本控制中

  ```
  # 跟踪一个文件，即将一个文件添加到暂存区中
  git add xxx
  
  # 将某个目录下的全部文件递归的添加到暂存区中
  git add xxx/
  
  
  ```

  

